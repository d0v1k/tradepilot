<header class="bg-gray-900 text-white p-4 flex justify-between items-center">
    <div class="flex items-center">
        <img src="https://via.placeholder.com/40" alt="Logo" class="mr-3">
        <a href="{{ url_for('index') }}" class="text-2xl text-white font-bold">tradePilot</a>
    </div>
    <div class="relative flex items-center">
        <span class="mr-4 hidden md:inline">Hello, {{ current_user.username }}</span>
        <div class="relative hidden md:block">
            <button id="user-menu-toggle" class="focus:outline-none">
                <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white">M</div>
            </button>
            <div id="user-menu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-2 z-20">
                <a href="{{ url_for('logout') }}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">Log out</a>
            </div>
        </div>
        <button id="mobile-menu-toggle" class="focus:outline-none ml-4 md:hidden">
            <span class="material-icons">menu</span>
        </button>
    </div>
</header>

<div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg py-4">
    <nav class="p-4">
        <button class="bg-blue-600 text-white w-full py-2 mb-4">New Trade Entry</button>
        <ul>
            <li class="mb-2"><a href="{{ url_for('index') }}" class="flex items-center text-gray-700 hover:text-blue-600"><span class="material-icons mr-2">dashboard</span>Dashboard</a></li>
            <li class="mb-2"><a href="{{ url_for('daily') }}" class="flex items-center text-gray-700 hover:text-blue-600"><span class="material-icons mr-2">today</span>Daily</a></li>
            <li class="mb-2"><a href="{{ url_for('calendar') }}" class="flex items-center text-gray-700 hover:text-blue-600"><span class="material-icons mr-2">calendar_today</span>Calendar</a></li>
            <li class="mb-2"><a href="#" class="flex items-center text-gray-700 hover:text-blue-600"><span class="material-icons mr-2">book</span>Journal</a></li>
            <li class="mb-2"><a href="#" class="flex items-center text-gray-700 hover:text-blue-600"><span class="material-icons mr-2">assignment</span>Setups</a></li>
            <li class="mb-2"><a href="#" class="flex items-center text-gray-700 hover:text-blue-600"><span class="material-icons mr-2">menu_book</span>Playbook</a></li>
            <li class="mb-2"><a href="{{ url_for('logout') }}" class="flex items-center text-gray-700 hover:text-blue-600"><span class="material-icons mr-2">logout</span>Log out</a></li>
        </ul>
    </nav>
</div>

<script>
document.getElementById('user-menu-toggle').addEventListener('click', function() {
    var menu = document.getElementById('user-menu');
    menu.classList.toggle('hidden');
});

document.getElementById('mobile-menu-toggle').addEventListener('click', function() {
    var menu = document.getElementById('mobile-menu');
    menu.classList.toggle('hidden');
});
</script>
